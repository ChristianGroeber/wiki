(()=>{var n={5126:(n,t,e)=>{var r={"./af":1009,"./af.js":1009,"./ar":8769,"./ar-dz":3739,"./ar-dz.js":3739,"./ar-kw":3745,"./ar-kw.js":3745,"./ar-ly":9576,"./ar-ly.js":9576,"./ar-ma":7408,"./ar-ma.js":7408,"./ar-sa":8781,"./ar-sa.js":8781,"./ar-tn":7856,"./ar-tn.js":7856,"./ar.js":8769,"./az":2030,"./az.js":2030,"./be":6476,"./be.js":6476,"./bg":5304,"./bg.js":5304,"./bm":8125,"./bm.js":8125,"./bn":34,"./bn-bd":9835,"./bn-bd.js":9835,"./bn.js":34,"./bo":4082,"./bo.js":4082,"./br":8317,"./br.js":8317,"./bs":3107,"./bs.js":3107,"./ca":8272,"./ca.js":8272,"./cs":8567,"./cs.js":8567,"./cv":1583,"./cv.js":1583,"./cy":76,"./cy.js":76,"./da":1760,"./da.js":1760,"./de":8973,"./de-at":3214,"./de-at.js":3214,"./de-ch":4728,"./de-ch.js":4728,"./de.js":8973,"./dv":4053,"./dv.js":4053,"./el":7499,"./el.js":7499,"./en-au":7876,"./en-au.js":7876,"./en-ca":7010,"./en-ca.js":7010,"./en-gb":4239,"./en-gb.js":4239,"./en-ie":9830,"./en-ie.js":9830,"./en-il":8438,"./en-il.js":8438,"./en-in":5322,"./en-in.js":5322,"./en-nz":3264,"./en-nz.js":3264,"./en-sg":5449,"./en-sg.js":5449,"./eo":9486,"./eo.js":9486,"./es":2430,"./es-do":6310,"./es-do.js":6310,"./es-mx":7038,"./es-mx.js":7038,"./es-us":3099,"./es-us.js":3099,"./es.js":2430,"./et":4975,"./et.js":4975,"./eu":7063,"./eu.js":7063,"./fa":8073,"./fa.js":8073,"./fi":957,"./fi.js":957,"./fil":8764,"./fil.js":8764,"./fo":1775,"./fo.js":1775,"./fr":4179,"./fr-ca":4306,"./fr-ca.js":4306,"./fr-ch":3791,"./fr-ch.js":3791,"./fr.js":4179,"./fy":7014,"./fy.js":7014,"./ga":6911,"./ga.js":6911,"./gd":2958,"./gd.js":2958,"./gl":7344,"./gl.js":7344,"./gom-deva":3161,"./gom-deva.js":3161,"./gom-latn":5798,"./gom-latn.js":5798,"./gu":8485,"./gu.js":8485,"./he":7917,"./he.js":7917,"./hi":2159,"./hi.js":2159,"./hr":5842,"./hr.js":5842,"./hu":5,"./hu.js":5,"./hy-am":1312,"./hy-am.js":1312,"./id":781,"./id.js":781,"./is":4101,"./is.js":4101,"./it":3467,"./it-ch":4759,"./it-ch.js":4759,"./it.js":3467,"./ja":4164,"./ja.js":4164,"./jv":79,"./jv.js":79,"./ka":7036,"./ka.js":7036,"./kk":2022,"./kk.js":2022,"./km":3418,"./km.js":3418,"./kn":3655,"./kn.js":3655,"./ko":986,"./ko.js":986,"./ku":1902,"./ku.js":1902,"./ky":4604,"./ky.js":4604,"./lb":9026,"./lb.js":9026,"./lo":537,"./lo.js":537,"./lt":2288,"./lt.js":2288,"./lv":1495,"./lv.js":1495,"./me":690,"./me.js":690,"./mi":2571,"./mi.js":2571,"./mk":3959,"./mk.js":3959,"./ml":7225,"./ml.js":7225,"./mn":88,"./mn.js":88,"./mr":6622,"./mr.js":6622,"./ms":1070,"./ms-my":8899,"./ms-my.js":8899,"./ms.js":1070,"./mt":3931,"./mt.js":3931,"./my":5393,"./my.js":5393,"./nb":4274,"./nb.js":4274,"./ne":8914,"./ne.js":8914,"./nl":3114,"./nl-be":8479,"./nl-be.js":8479,"./nl.js":3114,"./nn":4513,"./nn.js":4513,"./oc-lnc":6549,"./oc-lnc.js":6549,"./pa-in":8264,"./pa-in.js":8264,"./pl":2848,"./pl.js":2848,"./pt":899,"./pt-br":5077,"./pt-br.js":5077,"./pt.js":899,"./ro":2512,"./ro.js":2512,"./ru":1753,"./ru.js":1753,"./sd":6840,"./sd.js":6840,"./se":8362,"./se.js":8362,"./si":464,"./si.js":464,"./sk":6324,"./sk.js":6324,"./sl":1963,"./sl.js":1963,"./sq":3039,"./sq.js":3039,"./sr":3454,"./sr-cyrl":466,"./sr-cyrl.js":466,"./sr.js":3454,"./ss":5158,"./ss.js":5158,"./sv":8859,"./sv.js":8859,"./sw":7594,"./sw.js":7594,"./ta":6915,"./ta.js":6915,"./te":5677,"./te.js":5677,"./tet":2154,"./tet.js":2154,"./tg":4098,"./tg.js":4098,"./th":9071,"./th.js":9071,"./tk":9381,"./tk.js":9381,"./tl-ph":1869,"./tl-ph.js":1869,"./tlh":2346,"./tlh.js":2346,"./tr":1483,"./tr.js":1483,"./tzl":266,"./tzl.js":266,"./tzm":3138,"./tzm-latn":2960,"./tzm-latn.js":2960,"./tzm.js":3138,"./ug-cn":9456,"./ug-cn.js":9456,"./uk":805,"./uk.js":805,"./ur":1127,"./ur.js":1127,"./uz":9628,"./uz-latn":840,"./uz-latn.js":840,"./uz.js":9628,"./vi":6962,"./vi.js":6962,"./x-pseudo":9257,"./x-pseudo.js":9257,"./yo":2423,"./yo.js":2423,"./zh-cn":1002,"./zh-cn.js":1002,"./zh-hk":6046,"./zh-hk.js":6046,"./zh-mo":6903,"./zh-mo.js":6903,"./zh-tw":4710,"./zh-tw.js":4710};function a(n){var t=o(n);return e(t)}function o(n){if(!e.o(r,n)){var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}return r[n]}a.keys=function(){return Object.keys(r)},a.resolve=o,n.exports=a,a.id=5126},5890:(n,t,e)=>{"use strict";var r=e(2661),a=e(8917),o=e(8319),s={class:"header"};function u(n,t,e,r,u,i){var l=(0,a.up)("Loading"),c=(0,a.up)("router-view"),d=(0,a.up)("specific-entry-popup");return(0,a.wg)(),(0,a.iD)("div",null,[n.isLoading?((0,a.wg)(),(0,a.j4)(l,{key:0})):(0,a.kq)("",!0),(0,a._)("div",s,[(0,a._)("h1",{onClick:t[0]||(t[0]=function(){return n.reload&&n.reload.apply(n,arguments)}),class:"reloadable"},(0,o.zw)(n.pageTitle),1)]),(0,a.Wm)(c),(0,a.Wm)(d)])}e(3238),e(1418);var i=function(n){return(0,a.dD)("data-v-50db5c82"),n=n(),(0,a.Cn)(),n},l={class:"loader"},c=i((function(){return(0,a._)("div",{class:"loading-wrapper"},[(0,a._)("div",{class:"lds-ellipsis"},[(0,a._)("div"),(0,a._)("div"),(0,a._)("div"),(0,a._)("div")])],-1)})),d=[c];function m(n,t,e,r,o,s){return(0,a.wg)(),(0,a.iD)("div",l,d)}const p=(0,a.aZ)({name:"Loading"});var f=e(6959);const h=(0,f.Z)(p,[["render",m],["__scopeId","data-v-50db5c82"]]),w=h;var v=(0,a.Uk)("Edit Specific Entry"),k={slot:"footer"},j={class:"uk-text-right"},g=(0,a.Uk)("Submit");function y(n,t,e,o,s,u){var i=(0,a.up)("vk-modal-close"),l=(0,a.up)("vk-modal-title"),c=(0,a.up)("vk-button"),d=(0,a.up)("vk-modal");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(d,{show:n.show},{default:(0,a.w5)((function(){return[(0,a.Wm)(i,{onClick:n.hidePopup},null,8,["onClick"]),(0,a.Wm)(l,null,{default:(0,a.w5)((function(){return[v]})),_:1}),(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=function(t){return n.dateEntry=t})},null,512),[[r.nr,n.dateEntry]])]),(0,a._)("div",k,[(0,a._)("div",j,[(0,a.Wm)(c,{class:"btn btn-primary",onClick:n.editSpecificEntry},{default:(0,a.w5)((function(){return[g]})),_:1},8,["onClick"])])])]})),_:1},8,["show"])])}var b=e(1320),_=e.n(b);const E=(0,a.aZ)({data:function(){return{dateEntry:_()().format("yyyy-MM-DD")}},computed:{show:{get:function(){return!1},set:function(n){console.log(n)}}},methods:{hidePopup:function(){},editSpecificEntry:function(){}}}),P=(0,f.Z)(E,[["render",y]]),C=P;var U=e(4206),D=e.n(U),T=e(5945),W=(0,T.Q_)("main",{state:function(){return{isLoading:!1,pageTitle:"2022"}},getters:{loading:function(n){return n.isLoading},pageTitle:function(n){return n.pageTitle}},actions:{setIsLoading:function(n){this.$state.isLoading=n},setTitle:function(n){document.title="2022"===n?"2022":n+" Â· 2022",this.$state.pageTitle=n},buildCache:function(n){D().post("/api/admin/build-cache?token="+n)}}});e(5613),e(1013),e(940);function S(n){return Object.keys(n).map((function(t){return t+"="+n[t]})).join("&")}var Z=(0,T.Q_)("authStore",{state:function(){return{token:null}},getters:{token:function(n){return n.token}},actions:{changePassword:function(n){var t=this;return D()({method:"POST",url:"/api/auth/change-password",data:S(n),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(n){t.$state.token=n.data.token}))},requestNewPassword:function(n){return D()({method:"POST",url:"/api/auth/request-new-password",data:S({username:n}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},restorePassword:function(n,t,e,r){var a=this;if(null===r)throw new Error("invalid token");return D()({method:"POST",url:"/api/auth/restore-password",data:S({username:n,password1:t,password2:e,token:r}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(n){a.$state.token=n.data.token}))},generateNewToken:function(n,t){var e=this;if(null===t)throw new Error("invalid token");return D()({method:"POST",url:"/api/auth/generate-new-token",data:S({username:n,token:t}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(n){e.$state.token=n.data.token}))},login:function(n,t){var e=this;return D()({method:"POST",url:"/api/login",data:S({username:n,password:t}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(n){e.$state.token=n.data.token}))},getToken:function(){var n=localStorage.getItem("token");n&&(this.$state.token=n)},logout:function(){this.$state.token=null,localStorage.removeItem("token")},createAdmin:function(n,t){return D()({method:"POST",url:"/api/auth/create-admin",data:S({username:n,password:t}),headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}),x=e(7332);const O=(0,a.aZ)({name:"App",components:{Loading:w,SpecificEntryPopup:C},data:function(){return{mainStore:W()}},computed:{isLoading:function(){return this.mainStore.loading},pageTitle:function(){return this.mainStore.pageTitle}},created:function(){var n=this;Z().getToken(),this.axios.interceptors.request.use((function(t){return n.mainStore.setIsLoading(!0),t}),(function(t){return n.mainStore.setIsLoading(!1),Promise.reject(t)})),this.axios.interceptors.response.use((function(t){return n.mainStore.setIsLoading(!0),t}),(function(t){return n.mainStore.setIsLoading(!1),Promise.reject(t)})),D().get("/api/auth/admin-created").then((function(n){var t=n.data.adminCreated;t||(0,x.tv)().push("/auth/create-admin")}))}}),z=(0,f.Z)(O,[["render",u]]),L=z;var M={class:"main-content"};function q(n,t,e,r,o,s){var u=(0,a.up)("AdminBar"),i=(0,a.up)("Month");return(0,a.wg)(),(0,a.iD)("div",M,[n.canEdit?((0,a.wg)(),(0,a.j4)(u,{key:0})):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.months,(function(n){return(0,a.wg)(),(0,a.iD)("div",{class:"month",key:n.id},[(0,a.Wm)(i,{month:n},null,8,["month"])])})),128))])}e(3352);var N={class:"month"},A={class:"article-list container"};function R(n,t,e,r,s,u){var i=(0,a.up)("Day");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("h2",N,(0,o.zw)(n.month.name),1),(0,a._)("div",A,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.month.days,(function(n,t){return(0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)(i,{day:n},null,8,["day"])])})),128))])])}var $={class:"article"},I={class:"article-head"},V={key:0},H=(0,a.Uk)("Delete"),B=(0,a.Uk)("Edit"),K={class:"article-body"},G=["innerHTML"];function Q(n,t,e,r,s,u){var i=(0,a.up)("fa"),l=(0,a.up)("vk-button"),c=(0,a.up)("vk-nav-item"),d=(0,a.up)("vk-nav-dropdown"),m=(0,a.up)("vk-dropdown");return(0,a.wg)(),(0,a.iD)("div",$,[(0,a._)("div",I,[(0,a._)("h3",null,(0,o.zw)(n.formattedDate),1),n.canEdit?((0,a.wg)(),(0,a.iD)("div",V,[(0,a.Wm)(l,{class:"btn btn-icon btn-rounded"},{default:(0,a.w5)((function(){return[(0,a.Wm)(i,{icon:"ellipsis-v"})]})),_:1}),(0,a.Wm)(m,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(d,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(c,{onClick:n.deleteEntry,title:"Delete"},{default:(0,a.w5)((function(){return[H]})),_:1},8,["onClick"]),(0,a.Wm)(c,{href:"/edit?"+n.query,title:"Edit"},{default:(0,a.w5)((function(){return[B]})),_:1},8,["href"])]})),_:1})]})),_:1})])):(0,a.kq)("",!0)]),(0,a._)("div",K,[(0,a._)("p",{innerHTML:n.content},null,8,G)])])}var Y=e(8444),F=(e(2595),e(3938),(0,T.Q_)("wikiStore",{state:function(){return{loadedEntries:[],currentEntry:null,nav:[]}},getters:{loadedEntries:function(n){return n.loadedEntries},currentEntry:function(n){return n.currentEntry}},actions:{updateEntry:function(n){this.$state.currentEntry=n},saveEntry:function(n){if(null===this.$state.currentEntry)throw new Error("Not editing any entry");if(null===n)throw new Error("token cannot be null");var t={token:n,content:this.$state.currentEntry.raw_content,entry:this.$state.currentEntry.id};return D()({method:"POST",url:"/api/admin/entry/edit",data:S(t),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},fetchEntry:function(n){var t=this;return D().get("/api/entry/view?entry="+n).then((function(n){t.$state.currentEntry=n.data,t.$state.loadedEntries.push(n.data)}))},getEntry:function(n){},deleteEntry:function(n,t){if(null===t)throw new Error("invalid token");return D()["delete"]("/api/admin/entry/delete?"+S({entry:n,token:t}))},renameEntry:function(n,t,e){return D().post("/api/admin/entry/rename?"+S({oldName:n,newName:t,token:e}))}}}));const J=(0,a.aZ)({name:"Day",props:["day"],computed:{formattedDate:function(){return this.day.meta.title},content:function(){return this.day.content},canEdit:function(){return null!==Z().token},query:function(){var n={entry:this.day.id},t=Object.entries(n).map((function(n){var t=(0,Y.Z)(n,2),e=t[0],r=t[1];return"".concat(e,"=").concat(r)})).join("&");return t}},methods:{deleteEntry:function(){var n=confirm("Are you sure you want to delete this entry");if(n){this.day.id,Z().token;F().deleteEntry(this.day.id,Z().token)}}}}),X=(0,f.Z)(J,[["render",Q]]),nn=X,tn=(0,a.aZ)({name:"Month",props:["month"],components:{Day:nn}}),en=(0,f.Z)(tn,[["render",R]]),rn=en;var an={class:"admin-bar"},on=(0,a._)("h3",null,"Welcome Admin",-1);function sn(n,t,e,r,o,s){var u=(0,a.up)("vk-navbar-nav-item"),i=(0,a.up)("vk-navbar-item"),l=(0,a.up)("vk-navbar-nav"),c=(0,a.up)("vk-navbar");return(0,a.wg)(),(0,a.iD)("div",an,[on,(0,a.Wm)(c,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(l,null,{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.nav,(function(t,e){return(0,a.wg)(),(0,a.j4)(u,{key:e,onClick:function(t){return n.handleClick(e)},title:t.label},null,8,["onClick","title"])})),128)),(0,a.Wm)(i)]})),_:1})]})),_:1})])}const un=(0,a.aZ)({name:"AdminBar",data:function(){return{nav:[{label:"Auth",page:"/auth",func:null},{label:"More",page:"/admin/tools",func:null}]}},methods:{handleClick:function(n){var t=this.nav[n];null!==t.func?t.func():null!==t.page?(0,x.tv)().push(t.page):console.error("I don't know what to do with item #"+n)}}}),ln=(0,f.Z)(un,[["render",sn]]),cn=ln,dn=(0,a.aZ)({name:"MonthList",components:{Month:rn,AdminBar:cn},created:function(){W().setTitle("Wiki")},computed:{months:function(){return[]},canEdit:function(){return!0}}}),mn=(0,f.Z)(dn,[["render",q]]),pn=mn;var fn={class:"main-content"},hn=(0,a.Uk)("Return"),wn={class:"uk-fieldset"},vn={class:"form-row"},kn={class:"form-row"},jn=(0,a.Uk)("Login");function gn(n,t,e,o,s,u){var i=(0,a.up)("vk-button");return(0,a.wg)(),(0,a.iD)("div",fn,[(0,a._)("div",null,[(0,a.Wm)(i,{class:"btn btn-primary",onClick:n.auth},{default:(0,a.w5)((function(){return[hn]})),_:1},8,["onClick"])]),(0,a._)("form",{onSubmit:t[4]||(t[4]=(0,r.iM)((function(){return n.login&&n.login.apply(n,arguments)}),["prevent"]))},[(0,a._)("fieldset",wn,[(0,a._)("div",vn,[(0,a.wy)((0,a._)("input",{class:"uk-input",onKeyup:t[0]||(t[0]=(0,r.D2)((function(){return n.login&&n.login.apply(n,arguments)}),["enter"])),"onUpdate:modelValue":t[1]||(t[1]=function(t){return n.username=t}),placeholder:"username"},null,544),[[r.nr,n.username]])]),(0,a._)("div",kn,[(0,a.wy)((0,a._)("input",{class:"uk-input",onKeyup:t[2]||(t[2]=(0,r.D2)((function(){return n.login&&n.login.apply(n,arguments)}),["enter"])),"onUpdate:modelValue":t[3]||(t[3]=function(t){return n.password=t}),placeholder:"password",type:"password"},null,544),[[r.nr,n.password]])])]),(0,a.Wm)(i,{class:"btn btn-primary",onClick:n.login},{default:(0,a.w5)((function(){return[jn]})),_:1},8,["onClick"])],32)])}const yn=(0,a.aZ)({data:function(){return{username:"",password:"",router:(0,x.tv)()}},created:function(){W().setTitle("Login")},methods:{login:function(){var n=this;Z().login(this.username,this.password).then((function(){n.router.push("/")}))},auth:function(){this.router.push("/auth")}}}),bn=(0,f.Z)(yn,[["render",gn]]),_n=bn;function En(n,t,e,r,o,s){return(0,a.wg)(),(0,a.iD)("div",null," Redirecting... ")}const Pn=(0,a.aZ)({created:function(){var n=Z().token;null===n?(0,x.tv)().push("/auth/login"):(0,x.tv)().push("/")}}),Cn=(0,f.Z)(Pn,[["render",En]]),Un=Cn;var Dn={class:"main-content"},Tn=(0,a.Uk)("Return"),Wn={class:"form-row"},Sn={class:"form-row"},Zn={class:"form-row"},xn=(0,a._)("button",{class:"mt-1",type:"submit"},"Submit",-1);function On(n,t,e,o,s,u){var i=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",Dn,[(0,a._)("div",null,[(0,a.Wm)(i,{class:"btn",to:"/auth"},{default:(0,a.w5)((function(){return[Tn]})),_:1})]),(0,a._)("form",{onSubmit:t[3]||(t[3]=(0,r.iM)((function(){return n.submit&&n.submit.apply(n,arguments)}),["prevent"]))},[(0,a._)("div",Wn,[(0,a.wy)((0,a._)("input",{placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=function(t){return n.username=t}),type:"text"},null,512),[[r.nr,n.username]])]),(0,a._)("div",Sn,[(0,a.wy)((0,a._)("input",{placeholder:"New Password","onUpdate:modelValue":t[1]||(t[1]=function(t){return n.password1=t}),type:"password"},null,512),[[r.nr,n.password1]])]),(0,a._)("div",Zn,[(0,a.wy)((0,a._)("input",{placeholder:"Repeat New Password","onUpdate:modelValue":t[2]||(t[2]=function(t){return n.password2=t}),type:"password"},null,512),[[r.nr,n.password2]])]),xn],32)])}e(2077),e(3526),e(5769),e(7460),e(4078),e(8581);const zn=(0,a.aZ)({data:function(){return{username:"",password1:"",password2:""}},created:function(){W().setTitle("Restore Password - Wiki")},methods:{submit:function(){var n=window.location.search,t=new URLSearchParams(n);Z().restorePassword(this.username,this.password1,this.password2,t.get("token")).then((function(){(0,x.tv)().push("/")}))}}}),Ln=(0,f.Z)(zn,[["render",On]]),Mn=Ln;var qn=function(n){return(0,a.dD)("data-v-7fa12e31"),n=n(),(0,a.Cn)(),n},Nn={class:"main-content"},An=(0,a.Uk)("Return"),Rn=qn((function(){return(0,a._)("br",null,null,-1)})),$n=qn((function(){return(0,a._)("button",{class:"mt-1",type:"submit"},"Submit",-1)}));function In(n,t,e,o,s,u){var i=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",Nn,[(0,a._)("div",null,[(0,a.Wm)(i,{class:"btn",to:"/auth"},{default:(0,a.w5)((function(){return[An]})),_:1})]),(0,a._)("form",{onSubmit:t[1]||(t[1]=(0,r.iM)((function(){return n.submit&&n.submit.apply(n,arguments)}),["prevent"]))},[(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=function(t){return n.username=t}),id:"username",type:"text"},null,512),[[r.nr,n.username]]),Rn]),$n],32)])}const Vn=(0,a.aZ)({data:function(){return{username:""}},methods:{submit:function(){Z().requestNewPassword(this.username)}}}),Hn=(0,f.Z)(Vn,[["render",In],["__scopeId","data-v-7fa12e31"]]),Bn=Hn;var Kn={class:"main-content"};function Gn(n,t,e,r,o,s){return(0,a.wg)(),(0,a.iD)("div",Kn)}const Qn=(0,a.aZ)({data:function(){return{username:"",currentPassword:"",newPassword1:"",newPassword2:""}},methods:{submit:function(){var n=Z();n.changePassword({username:this.username,currentPassword:this.currentPassword,newPassword1:this.newPassword1,newPassword2:this.newPassword2}).then((function(){var n=(0,x.tv)();n.push("/")}))}}}),Yn=(0,f.Z)(Qn,[["render",Gn]]),Fn=Yn;var Jn=function(n){return(0,a.dD)("data-v-7752588c"),n=n(),(0,a.Cn)(),n},Xn={class:"main-content"},nt=(0,a.Uk)("Return"),tt=Jn((function(){return(0,a._)("br",null,null,-1)})),et=Jn((function(){return(0,a._)("button",{class:"mt-1",type:"submit"},"Submit",-1)}));function rt(n,t,e,o,s,u){var i=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",Xn,[(0,a._)("div",null,[(0,a.Wm)(i,{class:"btn",to:"/auth"},{default:(0,a.w5)((function(){return[nt]})),_:1})]),(0,a._)("form",{onSubmit:t[1]||(t[1]=(0,r.iM)((function(){return n.submit&&n.submit.apply(n,arguments)}),["prevent"]))},[(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=function(t){return n.username=t}),id:"username",type:"text"},null,512),[[r.nr,n.username]]),tt]),et],32)])}const at=(0,a.aZ)({data:function(){return{username:""}},methods:{submit:function(){Z().requestNewPassword(this.username)}}}),ot=(0,f.Z)(at,[["render",rt],["__scopeId","data-v-7752588c"]]),st=ot;var ut={class:"main-content"},it=(0,a.Uk)("Return"),lt=(0,a._)("br",null,null,-1),ct=(0,a._)("button",{class:"mt-1",type:"submit"},"Submit",-1);function dt(n,t,e,o,s,u){var i=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",ut,[(0,a._)("div",null,[(0,a.Wm)(i,{class:"btn",to:"/auth"},{default:(0,a.w5)((function(){return[it]})),_:1})]),(0,a._)("form",{onSubmit:t[1]||(t[1]=(0,r.iM)((function(){return n.submit&&n.submit.apply(n,arguments)}),["prevent"]))},[(0,a._)("div",null,[(0,a.wy)((0,a._)("input",{placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=function(t){return n.username=t}),type:"text"},null,512),[[r.nr,n.username]]),lt]),ct],32)])}const mt=(0,a.aZ)({data:function(){return{username:""}},methods:{submit:function(){var n=Z();n.generateNewToken(this.username,n.token)}}}),pt=(0,f.Z)(mt,[["render",dt]]),ft=pt;var ht={class:"main-content"},wt=(0,a.Uk)("Submit");function vt(n,t,e,o,s,u){var i=(0,a.up)("vk-button");return(0,a.wg)(),(0,a.iD)("div",ht,[(0,a._)("form",null,[(0,a.wy)((0,a._)("input",{class:"uk-input",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return n.username=t}),placeholder:"Admin Username"},null,512),[[r.nr,n.username]]),(0,a.wy)((0,a._)("input",{class:"uk-input",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return n.password=t}),placeholder:"Admin Password"},null,512),[[r.nr,n.password]]),(0,a.Wm)(i,{class:"btn btn-primary",onClick:n.submit},{default:(0,a.w5)((function(){return[wt]})),_:1},8,["onClick"])])])}const kt=(0,a.aZ)({data:function(){return{username:"",password:""}},methods:{submit:function(){Z().createAdmin(this.username,this.password).then((function(n){n.data.adminCreated&&(0,x.tv)().push("/auth/login")}))}}}),jt=(0,f.Z)(kt,[["render",vt]]),gt=jt;var yt={class:"main-content"},bt={class:"d-flex gap-1"},_t=(0,a.Uk)("Home"),Et=(0,a.Uk)("Login"),Pt=(0,a.Uk)("Restore Password"),Ct=(0,a.Uk)("Change Password"),Ut=(0,a.Uk)("Generate New Token"),Dt=(0,a.Uk)("Request New Password"),Tt=(0,a.Uk)("Logout");function Wt(n,t,e,r,o,s){var u=(0,a.up)("router-link"),i=(0,a.up)("vk-button");return(0,a.wg)(),(0,a.iD)("div",yt,[(0,a._)("div",bt,[(0,a.Wm)(u,{class:"btn btn-primary",to:"/"},{default:(0,a.w5)((function(){return[_t]})),_:1}),(0,a.Wm)(u,{class:"btn btn-primary",to:"/auth/login"},{default:(0,a.w5)((function(){return[Et]})),_:1}),(0,a.Wm)(u,{class:"btn btn-primary",to:"/auth/restore-password"},{default:(0,a.w5)((function(){return[Pt]})),_:1}),(0,a.Wm)(u,{class:"btn btn-primary",to:"/auth/change-password"},{default:(0,a.w5)((function(){return[Ct]})),_:1}),(0,a.Wm)(u,{class:"btn btn-primary",to:"/auth/generate-new-token"},{default:(0,a.w5)((function(){return[Ut]})),_:1}),(0,a.Wm)(u,{class:"btn btn-primary",to:"/auth/request-new-password"},{default:(0,a.w5)((function(){return[Dt]})),_:1}),(0,a.Wm)(i,{class:"btn btn-primary",onClick:n.logout},{default:(0,a.w5)((function(){return[Tt]})),_:1},8,["onClick"])])])}const St=(0,a.aZ)({created:function(){W().setTitle("Auth")},methods:{logout:function(){Z().logout(),(0,x.tv)().push("/")}}}),Zt=(0,f.Z)(St,[["render",Wt]]),xt=Zt;var Ot={class:"main-content"},zt={class:"d-flex gap-1"},Lt=(0,a.Uk)("Generate Backup");function Mt(n,t,e,r,o,s){var u=(0,a.up)("fa"),i=(0,a.up)("vk-button");return(0,a.wg)(),(0,a.iD)("div",Ot,[(0,a._)("div",zt,[(0,a.Wm)(i,{class:"btn btn-icon btn-primary",onClick:n.goHome},{default:(0,a.w5)((function(){return[(0,a.Wm)(u,{icon:"arrow-left"})]})),_:1},8,["onClick"]),(0,a.Wm)(i,{class:"btn btn-primary",onClick:n.generateBackup},{default:(0,a.w5)((function(){return[Lt]})),_:1},8,["onClick"])])])}const qt=(0,a.aZ)({methods:{generateBackup:function(){D().get("/api/admin/generate-backup?token="+Z().token).then((function(n){location.href=n.data.file}))},goHome:function(){(0,x.tv)().push("/")}}}),Nt=(0,f.Z)(qt,[["render",Mt]]),At=Nt;var Rt=[{path:"/",name:"Home",component:pn},{path:"/auth",name:"Auth",component:xt},{path:"/auth/login",name:"Login",component:_n},{path:"/auth/login-if-not-logged-in",name:"Login if not logged in",component:Un},{path:"/auth/register",name:"Register",component:st},{path:"/auth/restore-password",name:"Restore Password",component:Mn},{path:"/auth/request-new-password",name:"Request New Password",component:Bn},{path:"/auth/change-password",name:"Change Password",component:Fn},{path:"/auth/generate-new-token",name:"Generate New Token",component:ft},{path:"/auth/create-admin",name:"Create Admin User",component:gt},{path:"/admin/tools",name:"More Tools",component:At}],$t=(0,x.p7)({history:(0,x.PO)(),routes:Rt});const It=$t;var Vt=e(5098);(0,r.ri)(L).use(Vt.Z,D()).use((0,T.WB)()).use(It).mount("#app")}},t={};function e(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}e.m=n,(()=>{e.amdO={}})(),(()=>{var n=[];e.O=(t,r,a,o)=>{if(!r){var s=1/0;for(c=0;c<n.length;c++){for(var[r,a,o]=n[c],u=!0,i=0;i<r.length;i++)(!1&o||s>=o)&&Object.keys(e.O).every((n=>e.O[n](r[i])))?r.splice(i--,1):(u=!1,o<s&&(s=o));if(u){n.splice(c--,1);var l=a();void 0!==l&&(t=l)}}return t}o=o||0;for(var c=n.length;c>0&&n[c-1][2]>o;c--)n[c]=n[c-1];n[c]=[r,a,o]}})(),(()=>{e.n=n=>{var t=n&&n.__esModule?()=>n["default"]:()=>n;return e.d(t,{a:t}),t}})(),(()=>{e.d=(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})}})(),(()=>{e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()})(),(()=>{e.hmd=n=>(n=Object.create(n),n.children||(n.children=[]),Object.defineProperty(n,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+n.id)}}),n)})(),(()=>{e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t)})(),(()=>{e.nmd=n=>(n.paths=[],n.children||(n.children=[]),n)})(),(()=>{var n={143:0};e.O.j=t=>0===n[t];var t=(t,r)=>{var a,o,[s,u,i]=r,l=0;if(s.some((t=>0!==n[t]))){for(a in u)e.o(u,a)&&(e.m[a]=u[a]);if(i)var c=i(e)}for(t&&t(r);l<s.length;l++)o=s[l],e.o(n,o)&&n[o]&&n[o][0](),n[o]=0;return e.O(c)},r=self["webpackChunkwiki"]=self["webpackChunkwiki"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=e.O(void 0,[998],(()=>e(5890)));r=e.O(r)})();